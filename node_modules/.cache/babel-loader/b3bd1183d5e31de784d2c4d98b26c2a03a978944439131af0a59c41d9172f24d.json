{"ast":null,"code":"import _toConsumableArray from\"C:/Users/lpana/OneDrive/Documents/gameIterations/scoreUpdate/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/lpana/OneDrive/Documents/gameIterations/scoreUpdate/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import LandingPage from\"./pages/LandingPage\";import GamePage from\"./pages/GamePage\";import ResultsPage from\"./pages/ResultsPage\";import cards from\"./data/cards.json\";import\"./components/styles/App.css\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_URL=process.env.REACT_APP_API_URL;console.log(API_URL);function generateID(){var length=arguments.length>0&&arguments[0]!==undefined?arguments[0]:16;return Math.random().toString(36).substr(2,length);}function App(){var _useState=useState(generateID()),_useState2=_slicedToArray(_useState,2),userID=_useState2[0],setUserID=_useState2[1];var _useState3=useState(\"landing\"),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),selectedCards=_useState6[0],setSelectedCards=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),outputData=_useState8[0],setOutputData=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),skipDemographics=_useState10[0],setSkipDemographics=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),demographics=_useState12[0],setDemographics=_useState12[1];var handleStartGame=function handleStartGame(){var shuffledCards=_toConsumableArray(cards).sort(function(){return 0.5-Math.random();});setSelectedCards(shuffledCards.slice(0,5));setCurrentPage(\"game\");};var handleRestartGame=function handleRestartGame(){var shuffledCards=_toConsumableArray(cards).sort(function(){return 0.5-Math.random();});setSelectedCards(shuffledCards.slice(0,5));setCurrentPage(\"game\");};var saveGameData=function saveGameData(userID,outputData){console.log(userID,outputData);axios.post(\"\".concat(API_URL,\"/data/add\"),{userID:userID,outputData:outputData}).then(function(res){return console.log(res.data);}).catch(function(err){return console.log(\"Error: \"+err);});};useEffect(function(){if(currentPage===\"results\"){saveGameData(userID,outputData);}},[outputData,currentPage,userID]);var finishGame=function finishGame(){setSkipDemographics(true);setCurrentPage(\"results\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[currentPage===\"landing\"&&/*#__PURE__*/_jsx(LandingPage,{onStartGame:handleStartGame}),currentPage===\"game\"&&/*#__PURE__*/_jsx(GamePage,{gameCards:selectedCards,finishGame:finishGame,setOutputData:setOutputData,skipDemographics:skipDemographics,demographics:demographics,setDemographics:setDemographics,userID:userID}),currentPage===\"results\"&&/*#__PURE__*/_jsx(ResultsPage,{onRestartGame:handleRestartGame,outputData:outputData,selectedCards:selectedCards})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","LandingPage","GamePage","ResultsPage","cards","axios","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","console","log","generateID","length","arguments","undefined","Math","random","toString","substr","App","_useState","_useState2","_slicedToArray","userID","setUserID","_useState3","_useState4","currentPage","setCurrentPage","_useState5","_useState6","selectedCards","setSelectedCards","_useState7","_useState8","outputData","setOutputData","_useState9","_useState10","skipDemographics","setSkipDemographics","_useState11","_useState12","demographics","setDemographics","handleStartGame","shuffledCards","_toConsumableArray","sort","slice","handleRestartGame","saveGameData","post","concat","then","res","data","catch","err","finishGame","className","children","onStartGame","gameCards","onRestartGame"],"sources":["C:/Users/lpana/OneDrive/Documents/gameIterations/scoreUpdate/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport LandingPage from \"./pages/LandingPage\";\r\nimport GamePage from \"./pages/GamePage\";\r\nimport ResultsPage from \"./pages/ResultsPage\";\r\nimport cards from \"./data/cards.json\";\r\nimport \"./components/styles/App.css\";\r\nimport axios from \"axios\";\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\nconsole.log(API_URL);\r\nfunction generateID(length = 16) {\r\n  return Math.random().toString(36).substr(2, length);\r\n}\r\nfunction App() {\r\n  const [userID, setUserID] = useState(generateID());\r\n\r\n  const [currentPage, setCurrentPage] = useState(\"landing\");\r\n  const [selectedCards, setSelectedCards] = useState([]);\r\n  const [outputData, setOutputData] = useState([]);\r\n  const [skipDemographics, setSkipDemographics] = useState(null);\r\n  const [demographics, setDemographics] = useState(null);\r\n\r\n  const handleStartGame = () => {\r\n    const shuffledCards = [...cards].sort(() => 0.5 - Math.random());\r\n    setSelectedCards(shuffledCards.slice(0, 5));\r\n    setCurrentPage(\"game\");\r\n  };\r\n\r\n  const handleRestartGame = () => {\r\n    const shuffledCards = [...cards].sort(() => 0.5 - Math.random());\r\n    setSelectedCards(shuffledCards.slice(0, 5));\r\n    setCurrentPage(\"game\");\r\n  };\r\n\r\n  const saveGameData = (userID, outputData) => {\r\n    console.log(userID, outputData);\r\n    axios\r\n      .post(`${API_URL}/data/add`, { userID, outputData })\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => console.log(\"Error: \" + err));\r\n  };\r\n  useEffect(() => {\r\n    if (currentPage === \"results\") {\r\n      saveGameData(userID, outputData);\r\n    }\r\n  }, [outputData, currentPage, userID]);\r\n  const finishGame = () => {\r\n    setSkipDemographics(true);\r\n    setCurrentPage(\"results\");\r\n  };\r\n  return (\r\n    <div className=\"app\">\r\n      {currentPage === \"landing\" && (\r\n        <LandingPage onStartGame={handleStartGame} />\r\n      )}\r\n      {currentPage === \"game\" && (\r\n        <GamePage\r\n          gameCards={selectedCards}\r\n          finishGame={finishGame}\r\n          setOutputData={setOutputData}\r\n          skipDemographics={skipDemographics}\r\n          demographics={demographics}\r\n          setDemographics={setDemographics}\r\n          userID={userID}\r\n        />\r\n      )}\r\n      {currentPage === \"results\" && (\r\n        <ResultsPage\r\n          onRestartGame={handleRestartGame}\r\n          outputData={outputData}\r\n          selectedCards={selectedCards}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}