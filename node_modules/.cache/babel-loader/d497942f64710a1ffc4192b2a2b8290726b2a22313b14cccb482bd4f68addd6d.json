{"ast":null,"code":"import _slicedToArray from\"C:/Users/lpana/OneDrive/Documents/gameIterations/scoreUpdate/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import LandingPage from\"./pages/LandingPage\";import StoryGamePage from\"./pages/StoryGamePage\";// import structure from \"./data/structure.json\";\nimport newStructure from\"./data/newStructure.json\";import\"./components/styles/App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showGame=_useState2[0],setShowGame=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currentPosition=_useState4[0],setCurrentPosition=_useState4[1];var _useState5=useState(newStructure.order[0]),_useState6=_slicedToArray(_useState5,2),currentKey=_useState6[0],setCurrentKey=_useState6[1];useEffect(function(){setCurrentKey(newStructure.order[currentPosition]);},[currentPosition]);var isCurrentPositionGame=Object.keys(newStructure.games).includes(currentKey);var isCurrentPositionStory=Object.keys(newStructure.stories).includes(currentKey);var finishGameOrStory=function finishGameOrStory(chosenOptionIndex,chosenDescriptors){if(isCurrentPositionGame||isCurrentPositionStory){setCurrentPosition(currentPosition+1);}};var currentPath=isCurrentPositionStory?newStructure.stories[currentKey]:newStructure.games[currentKey];console.log(currentPath);var handleStartGame=function handleStartGame(){setShowGame(true);};return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:showGame?/*#__PURE__*/_jsx(StoryGamePage,{storyPath:currentPath,finish:finishGameOrStory,prompt:isCurrentPositionGame?newStructure.games[currentKey].prompt:null,isStory:isCurrentPositionStory}):/*#__PURE__*/_jsx(LandingPage,{onStartGame:handleStartGame})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","LandingPage","StoryGamePage","newStructure","jsx","_jsx","App","_useState","_useState2","_slicedToArray","showGame","setShowGame","_useState3","_useState4","currentPosition","setCurrentPosition","_useState5","order","_useState6","currentKey","setCurrentKey","isCurrentPositionGame","Object","keys","games","includes","isCurrentPositionStory","stories","finishGameOrStory","chosenOptionIndex","chosenDescriptors","currentPath","console","log","handleStartGame","className","children","storyPath","finish","prompt","isStory","onStartGame"],"sources":["C:/Users/lpana/OneDrive/Documents/gameIterations/scoreUpdate/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport LandingPage from \"./pages/LandingPage\";\r\nimport StoryGamePage from \"./pages/StoryGamePage\";\r\n// import structure from \"./data/structure.json\";\r\nimport newStructure from \"./data/newStructure.json\";\r\nimport \"./components/styles/App.css\";\r\n\r\nfunction App() {\r\n    const [showGame, setShowGame] = useState(false);\r\n    const [currentPosition, setCurrentPosition] = useState(0);\r\n    const [currentKey, setCurrentKey] = useState(newStructure.order[0]);\r\n\r\n    useEffect(() => {\r\n        setCurrentKey(newStructure.order[currentPosition]);\r\n    }, [currentPosition]);\r\n\r\n    const isCurrentPositionGame = Object.keys(newStructure.games).includes(\r\n        currentKey\r\n    );\r\n    const isCurrentPositionStory = Object.keys(newStructure.stories).includes(\r\n        currentKey\r\n    );\r\n\r\n    const finishGameOrStory = (chosenOptionIndex, chosenDescriptors) => {\r\n        if (isCurrentPositionGame || isCurrentPositionStory) {\r\n            setCurrentPosition(currentPosition + 1);\r\n        }\r\n    };\r\n\r\n    const currentPath = isCurrentPositionStory\r\n        ? newStructure.stories[currentKey]\r\n        : newStructure.games[currentKey];\r\n\r\n    console.log(currentPath);\r\n    const handleStartGame = () => {\r\n        setShowGame(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"app\">\r\n            {showGame ? (\r\n                <StoryGamePage\r\n                    storyPath={currentPath}\r\n                    finish={finishGameOrStory}\r\n                    prompt={\r\n                        isCurrentPositionGame\r\n                            ? newStructure.games[currentKey].prompt\r\n                            : null\r\n                    }\r\n                    isStory={isCurrentPositionStory}\r\n                />\r\n            ) : (\r\n                <LandingPage onStartGame={handleStartGame} />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"kJAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CACjD;AACA,MAAO,CAAAC,YAAY,KAAM,0BAA0B,CACnD,MAAO,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACX,IAAAC,SAAA,CAAgCR,QAAQ,CAAC,KAAK,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAA8Cb,QAAQ,CAAC,CAAC,CAAC,CAAAc,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAlDE,eAAe,CAAAD,UAAA,IAAEE,kBAAkB,CAAAF,UAAA,IAC1C,IAAAG,UAAA,CAAoCjB,QAAQ,CAACI,YAAY,CAACc,KAAK,CAAC,CAAC,CAAC,CAAC,CAAAC,UAAA,CAAAT,cAAA,CAAAO,UAAA,IAA5DG,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAEhClB,SAAS,CAAC,UAAM,CACZoB,aAAa,CAACjB,YAAY,CAACc,KAAK,CAACH,eAAe,CAAC,CAAC,CACtD,CAAC,CAAE,CAACA,eAAe,CAAC,CAAC,CAErB,GAAM,CAAAO,qBAAqB,CAAGC,MAAM,CAACC,IAAI,CAACpB,YAAY,CAACqB,KAAK,CAAC,CAACC,QAAQ,CAClEN,UACJ,CAAC,CACD,GAAM,CAAAO,sBAAsB,CAAGJ,MAAM,CAACC,IAAI,CAACpB,YAAY,CAACwB,OAAO,CAAC,CAACF,QAAQ,CACrEN,UACJ,CAAC,CAED,GAAM,CAAAS,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,iBAAiB,CAAEC,iBAAiB,CAAK,CAChE,GAAIT,qBAAqB,EAAIK,sBAAsB,CAAE,CACjDX,kBAAkB,CAACD,eAAe,CAAG,CAAC,CAAC,CAC3C,CACJ,CAAC,CAED,GAAM,CAAAiB,WAAW,CAAGL,sBAAsB,CACpCvB,YAAY,CAACwB,OAAO,CAACR,UAAU,CAAC,CAChChB,YAAY,CAACqB,KAAK,CAACL,UAAU,CAAC,CAEpCa,OAAO,CAACC,GAAG,CAACF,WAAW,CAAC,CACxB,GAAM,CAAAG,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC1BvB,WAAW,CAAC,IAAI,CAAC,CACrB,CAAC,CAED,mBACIN,IAAA,QAAK8B,SAAS,CAAC,KAAK,CAAAC,QAAA,CACf1B,QAAQ,cACLL,IAAA,CAACH,aAAa,EACVmC,SAAS,CAAEN,WAAY,CACvBO,MAAM,CAAEV,iBAAkB,CAC1BW,MAAM,CACFlB,qBAAqB,CACflB,YAAY,CAACqB,KAAK,CAACL,UAAU,CAAC,CAACoB,MAAM,CACrC,IACT,CACDC,OAAO,CAAEd,sBAAuB,CACnC,CAAC,cAEFrB,IAAA,CAACJ,WAAW,EAACwC,WAAW,CAAEP,eAAgB,CAAE,CAC/C,CACA,CAAC,CAEd,CAEA,cAAe,CAAA5B,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}